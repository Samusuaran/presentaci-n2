"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4599],{4599:(x,u,r)=>{r.r(u),r.d(u,{CiudadesPageModule:()=>k});var d=r(177),m=r(9417),c=r(9364),g=r(3799),n=r(4438),_=r(3797),f=r(1247),h=r(8152);const p=e=>({"background-image":e});function C(e,t){if(1&e){const o=n.RV6();n.j41(0,"ion-item",16),n.bIt("click",function(){const a=n.eBV(o).$implicit,s=n.XpG(5);return n.Njj(s.seleccionarCiudad(a))}),n.j41(1,"ion-label"),n.EFF(2),n.k0s(),n.nrm(3,"ion-icon",17),n.k0s()}if(2&e){const o=t.$implicit;n.R7$(2),n.JRh(o.nombre)}}function b(e,t){if(1&e&&(n.j41(0,"ion-card-content")(1,"ion-list"),n.DNE(2,C,4,1,"ion-item",15),n.k0s()()),2&e){const o=n.XpG(2).$implicit,i=n.XpG(2);n.R7$(2),n.Y8G("ngForOf",i.zonas[o])}}function P(e,t){if(1&e){const o=n.RV6();n.j41(0,"ion-card",11),n.bIt("click",function(){n.eBV(o);const a=n.XpG().$implicit,s=n.XpG(2);return n.Njj(s.toggleAccordion(a))}),n.j41(1,"ion-card-header")(2,"ion-label"),n.EFF(3),n.k0s(),n.j41(4,"div",12),n.nrm(5,"ion-icon",13),n.k0s()(),n.DNE(6,b,3,1,"ion-card-content",14),n.k0s()}if(2&e){const o=n.XpG().$implicit,i=n.XpG(2);n.R7$(3),n.JRh(o),n.R7$(2),n.Y8G("name",i.isAccordionOpen(o)?"arrow-up-outline":"arrow-down-outline"),n.R7$(),n.Y8G("ngIf",i.isAccordionOpen(o))}}function M(e,t){if(1&e&&(n.qex(0),n.DNE(1,P,7,3,"ion-card",10),n.bVm()),2&e){const o=t.$implicit,i=n.XpG(2);n.R7$(),n.Y8G("ngIf",i.zonas[o]&&i.zonas[o].length>0)}}function O(e,t){if(1&e&&(n.j41(0,"ion-list",8),n.DNE(1,M,2,1,"ng-container",9),n.k0s()),2&e){const o=n.XpG();n.R7$(),n.Y8G("ngForOf",o.regionesOrdenadas)}}const v=[{path:"",component:(()=>{var e;class t{constructor(i,a,s,l,j){this.condicion=i,this.obtenerLocalidadService=a,this.router=s,this.route=l,this.coleccionCiudadesService=j,this.zonas={},this.accordionStates={},this.fondoActualIndex=0,this.images=["assets/fondolista/cordillera.jpg","assets/fondolista/costa.jpg","assets/fondolista/desierto.jpg","assets/fondolista/isla.jpg","assets/fondolista/patagonia.jpg","assets/fondolista/valle.jpg","assets/fondolista/glaciar.jpg"],this.currentImage=this.images[0],this.imageIndex=0,this.regionesOrdenadas=["Regi\xf3n de Arica y Parinacota","Regi\xf3n de Tarapac\xe1","Regi\xf3n de Antofagasta","Regi\xf3n de Atacama","Regi\xf3n de Coquimbo","Regi\xf3n de Valpara\xedso","Regi\xf3n Metropolitana de Santiago","Regi\xf3n del Libertador General Bernardo O'Higgins","Regi\xf3n del Maule","Regi\xf3n del \xd1uble","Biob\xedo","Regi\xf3n de la Araucan\xeda","Regi\xf3n de los R\xedos","Regi\xf3n de los Lagos","Regi\xf3n de Ays\xe9n del General Carlos Ib\xe1\xf1ez del Campo","Regi\xf3n de Magallanes y de la Ant\xe1rtica Chilena"],this.ciudades=[],this.zonas={}}ngOnInit(){this.Ciudades(),setInterval(()=>{this.imageIndex=(this.imageIndex+1)%this.images.length,this.currentImage=this.images[this.imageIndex]},5e3)}Ciudades(){this.condicion.getDataLocalidad().subscribe(i=>{this.ciudades=i,this.codciudades=this.ciudades.codigo,this.ciudades.forEach(a=>{const s=a.region_nombre;this.zonas[s]||(this.zonas[s]=[]),this.zonas[s].push(a)}),console.log("Ciudades agrupadas por regi\xf3n:",this.zonas);for(const a in this.zonas)this.zonas[a].sort((s,l)=>s.nombre.localeCompare(l.nombre));this.ciudadesFiltradas=[...this.ciudades]})}toggleAccordion(i){this.accordionStates[i]=!this.accordionStates[i]}isAccordionOpen(i){return this.accordionStates[i]}filtrarCiudades(i){const a=i.target.value.toLowerCase();this.ciudadesFiltradas=this.ciudades.filter(s=>s.nombre.toLowerCase().indexOf(a)>-1)}seleccionarCiudad(i){this.router.navigate(["/condicion-ciudad",i.codigo])}}return(e=t).\u0275fac=function(i){return new(i||e)(n.rXU(_.g),n.rXU(f.Q),n.rXU(g.Ix),n.rXU(g.nX),n.rXU(h.n))},e.\u0275cmp=n.VBU({type:e,selectors:[["app-ciudades"]],decls:9,vars:4,consts:[["slot","start"],["color","primary","menu","main-menu"],["slot","end","href","https://www.dgac.gob.cl/"],["id","logo","src","../../assets/icon/DGAC-logo.jpg","alt","logo",2,"height","40px","width","30px","margin-right","1vh"],["slot","end","href","https://archivos.meteochile.gob.cl/portaldmc/movil/movil_inicio.php"],["id","logo","src","../../assets/icon/DMC-logo.png","alt","logo",2,"height","40px","width","40px","margin-right","1vh"],[1,"background-image",3,"ngStyle"],["style","margin-top: 8vh;","class","menu-items","lines","none",4,"ngIf"],["lines","none",1,"menu-items",2,"margin-top","8vh"],[4,"ngFor","ngForOf"],[3,"click",4,"ngIf"],[3,"click"],[2,"text-align","center"],[3,"name"],[4,"ngIf"],["slot","end",3,"click",4,"ngFor","ngForOf"],["slot","end",3,"click"],["name","caret-forward-outline"]],template:function(i,a){1&i&&(n.j41(0,"ion-toolbar")(1,"ion-buttons",0),n.nrm(2,"ion-menu-button",1),n.k0s(),n.j41(3,"a",2),n.nrm(4,"img",3),n.k0s(),n.j41(5,"a",4),n.nrm(6,"img",5),n.k0s()(),n.j41(7,"body",6),n.DNE(8,O,2,1,"ion-list",7),n.k0s()),2&i&&(n.R7$(7),n.Y8G("ngStyle",n.eq3(2,p,"url("+a.currentImage+")")),n.R7$(),n.Y8G("ngIf",a.ciudadesFiltradas))},dependencies:[d.Sq,d.bT,d.B3,c.QW,c.b_,c.I9,c.ME,c.iq,c.uz,c.he,c.nf,c.MC,c.ai],styles:['@font-face{font-family:Open Sans;src:url(OpenSans-Bold.c1fc02c2ea5dd4e9.ttf) format("truetype")}*[_ngcontent-%COMP%]{font-family:Open Sans}ion-toolbar[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .65)}ion-searchbar[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .65)}body[_ngcontent-%COMP%]{overflow-y:auto;background-size:cover;background-position:center center}.fondo-div[_ngcontent-%COMP%]{height:100%}.background-image[_ngcontent-%COMP%]{transition:background-image .5s ease-in-out}.menu-items[_ngcontent-%COMP%]{background:#fff0}.menu-items[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{background:#fff0}.menu-items[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, 0)}.menu-items[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#000;text-align:center;background:#fff0}.menu-items[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, .4)}.menu-items[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{--background: rgba(255, 255, 255, 0)}.menu-items[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#000;--background: rgba(255, 255, 255, 0);text-align:center}.menu-items[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%]{background:#fff0}.menu-items[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:100px;background-size:cover}']}),t})()}];let R=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[g.iI.forChild(v),g.iI]}),t})(),k=(()=>{var e;class t{}return(e=t).\u0275fac=function(i){return new(i||e)},e.\u0275mod=n.$C({type:e}),e.\u0275inj=n.G2t({imports:[d.MD,m.YN,c.bv,R]}),t})()}}]);